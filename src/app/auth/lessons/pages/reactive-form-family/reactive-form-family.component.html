<form [formGroup]="employDetailsForm">

  <div class="container">
    <div class="row g-3">

      <!-- LEFT SECTION -->
      <div class="col-md-7">
        <div class="border p-3 rounded">
          <h5 class="mb-3">Employee Basic Details</h5>

          <div class="mb-3">
            <label class="form-label">Employee Name</label>
            <input type="text" class="form-control" formControlName="name" placeholder="Enter name">
          </div>

          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" formControlName="email" placeholder="Enter email">
          </div>

          <div class="mb-3">
            <label class="form-label">Phone</label>
            <input type="text" class="form-control" formControlName="phoneNumber" placeholder="Enter phone">
          </div>

          <div class="mb-3">
            <label class="form-label">Department</label>
            <select class="form-select" formControlName="department">
              <option value="">Select Department</option>
              <option>HR</option>
              <option>Development</option>
              <option>QA</option>
            </select>
          </div>

        </div>
      </div>

      <!-- RIGHT SECTION -->
      <div class="col-md-5">
        <div class="border p-3 rounded" formArrayName="familydetails">
          <h5 class="mb-3">Family Details</h5>

          <!-- FAMILY FORM FIELDS -->
          <div *ngFor="let details of getFamilyControl.controls; let i= index" 
               [formGroupName]="i"
               class="border rounded p-2 mb-3">

            <div class="mb-3">
              <label class="form-label">Family Member Name</label>
              <input type="text" class="form-control" formControlName="membername" placeholder="Enter name">
            </div>

            <div class="mb-3">
              <label class="form-label">Age</label>
              <input type="text" class="form-control" formControlName="age" placeholder="Enter age">
            </div>

            <div class="mb-3">
              <label class="form-label">Relation</label>
              <input type="text" class="form-control" formControlName="relation" placeholder="Enter relation">
            </div>

          </div>

          <!-- Add Member Button -->
          <button type="button" class="btn btn-primary w-100" (click)="addfamily()">
            Add New Family Member
          </button>

          <!-- TABLE -->
          <h6 class="mt-4">Family Members List</h6>

          <table class="table table-sm table-bordered">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Relation</th>
                <th>Age</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let member of getFamilyControl.controls">
                <td>{{ member.value.membername }}</td>
                <td>{{ member.value.relation }}</td>
                <td>{{ member.value.age }}</td>
              </tr>
            </tbody>

          </table>

        </div>
      </div>

    </div>
  </div>
  <button (click)="save()">Submit</button>

</form>
