<div class="container">

  <!-- Page Header -->
  <div class="page-header">
    <h2>üë• Employee Management</h2>
    <button class="btn btn-primary" (click)="addEmployee()">
      ‚ûï Add Employee
    </button>
  </div>

  <!-- Employee Form -->
  <div class="card form-card">
    <h3>üìù Employee Details</h3>

    <form  #employeeForm="ngForm" (ngSubmit)="submit(employeeForm)">

      <div class="row">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" placeholder="Enter full name" [(ngModel)]="employee.fullName" name="fullName" />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" placeholder="Enter email" [(ngModel)]="employee.email" name="email" />
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Phone</label>
          <input type="text" placeholder="Enter phone number" [(ngModel)]="employee.phone" name="phone" />
        </div>

        <div class="form-group">
          <label>Gender</label>
          <select [(ngModel)]="employee.gender" name="gender">
            <option value="" disabled>Select gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Date of Joining</label>
          <input type="date" [(ngModel)]="employee.dateOfJoining" name="dateOfJoining"/>
        </div>

        <div class="form-group">
          <label>Employee Type</label>
          <select [(ngModel)]="employee.employeeType" name="employeeType">
            <option value="" disabled>Select Employee Type</option>
            <option>Permanent</option>
            <option>Contract</option>
            <option>Intern</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Department {{employee|json}}</label>
          <select [(ngModel)]="employee.departmentId" name="departmentId" (change)="getDesignationByDepartment()">
            <option value="" disabled>Select Department</option>
            <option *ngFor="let dept of departMentLis()" [value]="dept.departmentId">{{ dept.departmentName }}</option>

          </select>
        </div>

        <div class="form-group">
          <label>Designation</label>
          <select [(ngModel)]="employee.designationId" name  ="designationId">
            <option value="" disabled>select designation</option>
            @for(design of designationList() ; track design.designationId){
              <option [value]="design.designationId">{{ design.designationName }}</option>
            }
          </select>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Date of Joining</label>
          <input type="date" [(ngModel)]="employee.dateOfJoining" name="dateOfJoining"/>
        </div>


      </div>

 


      <div class="row">
        <div class="form-group">
          <label>Salary</label>
          <input type="number" placeholder="Enter salary" [(ngModel)]="employee.salary" name="salary" />
        </div>
      </div>

      <div class="form-actions">
        <button class="btn btn-success" (click)="save()">üíæ Save</button>
        <button class="btn btn-secondary">‚ùå Cancel</button>
      </div>

    </form>
  </div>

  <!-- Employee Table -->
  <div class="card table-card">
    <h3>üìã Employee List</h3>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Department</th>
          <th>Designation</th>
          <th>Salary</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        @for( employee of employeeList() ; track employee.employeeId){
                    <tr>
          <td>{{employee.employeeId}}</td>
          <td>{{employee.fullName}}</td>
          <td>{{employee.email}}</td>
          <td>{{employee.phone}}</td>
          <td>{{employee.departmentName}}</td>
          <td>{{employee.designationName}}</td>
          <td>{{employee.salary}}</td>
          <td class="actions">
            <button class="btn btn-edit" (click)="edit(employee)">‚úè Edit</button>
            <button class="btn btn-delete">üóë Delete</button>
          </td>
        </tr>
        }

      </tbody>
    </table>
  </div>

</div>




